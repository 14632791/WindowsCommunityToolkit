<Page
    x:Class="Microsoft.Toolkit.Uwp.SampleApp.SamplePages.BluetoothHelperPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Microsoft.Toolkit.Uwp.SampleApp.SamplePages.BluetoothHelper"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:bt="using:Microsoft.Toolkit.Uwp"
    mc:Ignorable="d">

    <RelativePanel Background="{StaticResource Brush-Grey-05}">
        <Button x:Name="BtEnumeration" Click="Enumeration_Click" Content="Start enumeration" Margin="10"/>
        <ListView x:Name="LVDevices" Height="200" VerticalAlignment="Top" Margin="10" ItemsSource="{x:Bind bluetoothLEHelper.BluetoothLeDevices}" Background="White" SelectionChanged="LV_Devices_SelectionChanged" RelativePanel.Below="BtEnumeration" RelativePanel.AlignLeftWithPanel="True" RelativePanel.AlignRightWithPanel="True" />
        <StackPanel Name="SPDevice"  Margin="10" RelativePanel.Below="LVDevices">
            <TextBlock x:Name="TbDeviceName" Text="" />
            <TextBlock x:Name="TbDeviceBtAddr" Text="" />
        </StackPanel>
        <ListView x:Name="LVServices" Height="231" VerticalAlignment="Top" Margin="10,10,10,-95" ItemsSource="{x:Bind bluetoothLEHelper.SelectedBluetoothLEDevice.Services}" Background="White" SelectionChanged="LV_Devices_SelectionChanged" RelativePanel.Below="SPDevice" RelativePanel.AlignLeftWithPanel="True" RelativePanel.AlignRightWithPanel="True" HorizontalContentAlignment="Left" Visibility="Collapsed">
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="bt:ObservableGattDeviceService" >
                    <StackPanel>
                        <TextBlock >
                            <Run Text="Service Name: " />
                            <Run Text="{x:Bind Name}" />
                        </TextBlock>
                        <TextBlock >
                            <Run Text="Service UUID: " />
                            <Run Text="{x:Bind UUID}" />
                        </TextBlock>
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </RelativePanel>
</Page>
