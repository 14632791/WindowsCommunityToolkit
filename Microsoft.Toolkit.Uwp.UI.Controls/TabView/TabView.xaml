<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:converters="using:Microsoft.Toolkit.Uwp.UI.Converters"
                    xmlns:ex="using:Microsoft.Toolkit.Uwp.UI.Extensions"
                    xmlns:local="using:Microsoft.Toolkit.Uwp.UI.Controls">

    <converters:EmptyObjectToObjectConverter x:Key="NullVisibilityConverter"
                                             EmptyValue="Collapsed"
                                             NotEmptyValue="Visible" />
    <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />

    <converters:DoubleToVisibilityConverter x:Key="GreaterThanZeroVisibilityConverter"
                                            GreaterThan="12.0" />
    <!--  TODO: Think we have a timing issue with TabWidthsAdjusting after this converter calculates...  -->

    <local:EdgeTabWidthProvider x:Key="EdgeTabWidthProvider" />

    <DataTemplate x:Key="DefaultItemHeaderTemplate">
        <TextBlock Padding="0,0,8,0"
                   FontWeight="SemiBold"
                   Text="{Binding}"
                   TextTrimming="CharacterEllipsis"
                   ToolTipService.ToolTip="{Binding}" />
    </DataTemplate>

    <Style TargetType="local:TabView">
        <Setter Property="VerticalAlignment" Value="Stretch" />
        <Setter Property="HorizontalAlignment" Value="Stretch" />
        <Setter Property="CanReorderItems" Value="True" />
        <Setter Property="CanDragItems" Value="True" />
        <Setter Property="AllowDrop" Value="True" />
        <Setter Property="IsTabStop" Value="False" />
        <Setter Property="TabNavigation" Value="Once" />
        <Setter Property="IsSwipeEnabled" Value="True" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Hidden" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Enabled" />
        <Setter Property="ScrollViewer.IsHorizontalRailEnabled" Value="False" />
        <Setter Property="ScrollViewer.VerticalScrollMode" Value="Disabled" />
        <Setter Property="ScrollViewer.IsVerticalRailEnabled" Value="False" />
        <Setter Property="ScrollViewer.ZoomMode" Value="Disabled" />
        <Setter Property="ScrollViewer.IsDeferredScrollingEnabled" Value="False" />
        <Setter Property="ScrollViewer.BringIntoViewOnFocusChange" Value="True" />
        <Setter Property="TabWidthProvider" Value="{StaticResource EdgeTabWidthProvider}" />
        <Setter Property="ItemHeaderTemplate" Value="{StaticResource DefaultItemHeaderTemplate}" />
        <Setter Property="ItemContainerTransitions">
            <Setter.Value>
                <TransitionCollection>
                    <AddDeleteThemeTransition />
                    <ContentThemeTransition />
                    <EntranceThemeTransition IsStaggeringEnabled="False" />
                </TransitionCollection>
            </Setter.Value>
        </Setter>
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Horizontal" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:TabView">
                    <Grid x:Name="TabViewContainer"
                          Background="{TemplateBinding Background}"
                          BorderBrush="{TemplateBinding BorderBrush}"
                          BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid.RowDefinitions>
                            <!--  0 Header  -->
                            <RowDefinition Height="Auto" />
                            <!--  1 Tabs  -->
                            <RowDefinition Height="Auto" />
                            <!--  2 Content  -->
                            <RowDefinition Height="*" />
                            <!--  3 Footer  -->
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <!--  0 Left Header  -->
                            <ColumnDefinition Width="Auto" />
                            <!--  1 Tabs  -->
                            <ColumnDefinition Width="Auto"
                                              local:TabView.ConstrainColumn="True"
                                              local:TabView.IgnoreColumn="True" />
                            <!--  2 Reserved: Overflow Drop-down  -->
                            <ColumnDefinition Width="Auto" />
                            <!--  3 Auto Add Button  -->
                            <ColumnDefinition Width="Auto" />
                            <!--  4 Padding  -->
                            <ColumnDefinition Width="*"
                                              local:TabView.IgnoreColumn="True" />
                            <!--  5 Right Header  -->
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <ContentPresenter Grid.Row="0"
                                          Grid.ColumnSpan="7"
                                          Content="{TemplateBinding Header}"
                                          ContentTemplate="{TemplateBinding HeaderTemplate}" />

                        <ContentPresenter Grid.Row="1"
                                          Grid.Column="0"
                                          Content="{TemplateBinding LeftHeader}"
                                          ContentTemplate="{TemplateBinding LeftHeaderTemplate}" />

                        <ScrollViewer x:Name="TabsScrollViewer"
                                      Grid.Row="1"
                                      Grid.Column="1"
                                      AutomationProperties.AccessibilityView="Raw"
                                      BringIntoViewOnFocusChange="{TemplateBinding ScrollViewer.BringIntoViewOnFocusChange}"
                                      HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}"
                                      HorizontalScrollMode="{TemplateBinding ScrollViewer.HorizontalScrollMode}"
                                      IsDeferredScrollingEnabled="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}"
                                      IsHorizontalRailEnabled="{TemplateBinding ScrollViewer.IsHorizontalRailEnabled}"
                                      IsHorizontalScrollChainingEnabled="{TemplateBinding ScrollViewer.IsHorizontalScrollChainingEnabled}"
                                      IsVerticalRailEnabled="{TemplateBinding ScrollViewer.IsVerticalRailEnabled}"
                                      IsVerticalScrollChainingEnabled="{TemplateBinding ScrollViewer.IsVerticalScrollChainingEnabled}"
                                      Style="{StaticResource TabViewScrollViewer}"
                                      TabNavigation="{TemplateBinding TabNavigation}"
                                      VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}"
                                      VerticalScrollMode="{TemplateBinding ScrollViewer.VerticalScrollMode}"
                                      ZoomMode="{TemplateBinding ScrollViewer.ZoomMode}">
                            <ItemsPresenter x:Name="TabsItemsPresenter"
                                            Padding="{TemplateBinding Padding}" />
                        </ScrollViewer>

                        <Grid Grid.Row="1"
                              Grid.Column="3"
                              HorizontalAlignment="Left"
                              Background="{TemplateBinding Background}"
                              Visibility="{Binding IsAddTabButtonVisible, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BoolToVisibilityConverter}}">
                            <!--  TODO: Add to 'TabActionHeader' Template  -->
                            <Button x:Name="AddTabButton"
                                    Width="44"
                                    Height="44"
                                    FontFamily="Segoe MDL2 Assets">
                                &#xE710;
                            </Button>
                        </Grid>

                        <ContentPresenter Grid.Row="1"
                                          Grid.Column="5"
                                          Content="{TemplateBinding RightHeader}"
                                          ContentTemplate="{TemplateBinding RightHeaderTemplate}" />

                        <ContentPresenter x:Name="TabContentPresenter"
                                          Grid.Row="2"
                                          Grid.ColumnSpan="6" />

                        <ContentPresenter Grid.Row="3"
                                          Grid.ColumnSpan="6"
                                          Content="{TemplateBinding Footer}"
                                          ContentTemplate="{TemplateBinding FooterTemplate}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  Modified ListViewItemExpanded Template - https://msdn.microsoft.com/en-us/library/windows/apps/mt299136.aspx  -->
    <ControlTemplate x:Key="TabViewItemHeaderTemplate"
                     TargetType="local:TabViewItem">
        <Grid x:Name="ContentBorder"
              Background="{TemplateBinding Background}"
              BorderBrush="{TemplateBinding BorderBrush}"
              BorderThickness="{TemplateBinding BorderThickness}"
              Control.IsTemplateFocusTarget="True"
              FocusVisualMargin="{TemplateBinding FocusVisualMargin}"
              RenderTransformOrigin="0.5,0.5">
            <Grid.RenderTransform>
                <ScaleTransform x:Name="ContentBorderScale" />
            </Grid.RenderTransform>
            <Rectangle x:Name="BorderBackground"
                       Control.IsTemplateFocusTarget="True"
                       Fill="{ThemeResource SystemControlHighlightListAccentLowBrush}"
                       IsHitTestVisible="False"
                       Opacity="0" />
            <Grid x:Name="ContentPresenterGrid"
                  Margin="0,0,0,0"
                  Background="Transparent">
                <Grid.RenderTransform>
                    <TranslateTransform x:Name="ContentPresenterTranslateTransform" />
                </Grid.RenderTransform>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <!--  Modifications of default ListViewItem Template for our Tab Here  -->
                <Viewbox Width="16"
                         Height="16"
                         Margin="{TemplateBinding Padding}"
                         VerticalAlignment="Center"
                         Visibility="{Binding HeaderIcon, Converter={StaticResource NullVisibilityConverter}, RelativeSource={RelativeSource TemplatedParent}}">
                    <ContentPresenter Content="{TemplateBinding HeaderIcon}" />
                </Viewbox>
                <ContentPresenter x:Name="ContentPresenter"
                                  Grid.Column="1"
                                  Margin="{TemplateBinding Padding}"
                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                  Content="{TemplateBinding Header}"
                                  ContentTemplate="{TemplateBinding HeaderTemplate}"
                                  ContentTransitions="{TemplateBinding ContentTransitions}" />
                <!--  Use grid to toggle visibility based on IsClosable property and inner border for hover animations.  -->
                <Grid Grid.Column="1"
                      HorizontalAlignment="Right"
                      Visibility="{Binding IsClosable, Converter={StaticResource BoolToVisibilityConverter}, RelativeSource={RelativeSource TemplatedParent}}">
                    <Border x:Name="ButtonBorder"
                            Width="32"
                            Height="32"
                            Background="{TemplateBinding Background}"
                            Visibility="Collapsed">
                        <Button x:Name="CloseButton"
                                Style="{StaticResource MSEdgeCloseButtonStyle}">
                            &#xE711;
                        </Button>
                    </Border>
                </Grid>
            </Grid>
            <!--
                The 'Xg' text simulates the amount of space one line of text will occupy.
                In the DataPlaceholder state, the Content is not loaded yet so we
                approximate the size of the item using placeholder text.
            -->
            <TextBlock x:Name="PlaceholderTextBlock"
                       Margin="{TemplateBinding Padding}"
                       AutomationProperties.AccessibilityView="Raw"
                       Foreground="{x:Null}"
                       IsHitTestVisible="False"
                       Opacity="0"
                       Text="Xg" />
            <Rectangle x:Name="PlaceholderRect"
                       Fill="{ThemeResource ListViewItemPlaceholderBackground}"
                       Visibility="Collapsed" />
            <Border x:Name="MultiSelectSquare"
                    Width="20"
                    Height="20"
                    Margin="12,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    BorderBrush="{ThemeResource SystemControlForegroundBaseMediumHighBrush}"
                    BorderThickness="2"
                    Visibility="Collapsed">
                <Border.Clip>
                    <RectangleGeometry Rect="0,0,20,20">
                        <RectangleGeometry.Transform>
                            <TranslateTransform x:Name="MultiSelectClipTransform" />
                        </RectangleGeometry.Transform>
                    </RectangleGeometry>
                </Border.Clip>
                <Border.RenderTransform>
                    <TranslateTransform x:Name="MultiSelectCheckBoxTransform" />
                </Border.RenderTransform>
                <FontIcon x:Name="MultiSelectCheck"
                          FontFamily="{ThemeResource SymbolThemeFontFamily}"
                          FontSize="16"
                          Foreground="{ThemeResource SystemControlForegroundBaseMediumHighBrush}"
                          Glyph="&#xE73E;"
                          Opacity="0"
                          Visibility="Collapsed" />
            </Border>
            <Border x:Name="MultiArrangeOverlayTextBorder"
                    Height="20"
                    MinWidth="20"
                    Margin="12,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Background="{ThemeResource SystemControlBackgroundAccentBrush}"
                    BorderBrush="{ThemeResource SystemControlBackgroundChromeWhiteBrush}"
                    BorderThickness="2"
                    IsHitTestVisible="False"
                    Opacity="0">
                <TextBlock x:Name="MultiArrangeOverlayText"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           AutomationProperties.AccessibilityView="Raw"
                           IsHitTestVisible="False"
                           Opacity="0"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.DragItemsCount}" />
            </Border>

            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="Normal">

                        <Storyboard>
                            <PointerUpThemeAnimation Storyboard.TargetName="ContentPresenter" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="PointerOver">

                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="BorderBackground"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0" />
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BorderBackground"
                                                           Storyboard.TargetProperty="Fill">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightListLowBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                           Storyboard.TargetProperty="Foreground">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectSquare"
                                                           Storyboard.TargetProperty="BorderBrush">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectCheck"
                                                           Storyboard.TargetProperty="Foreground">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <PointerUpThemeAnimation Storyboard.TargetName="ContentPresenter" />

                            <!--  Close Button  -->
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonBorder"
                                                           Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="Visible" />
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="Pressed">

                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="BorderBackground"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0" />
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BorderBackground"
                                                           Storyboard.TargetProperty="Fill">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightListMediumBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                           Storyboard.TargetProperty="Foreground">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectSquare"
                                                           Storyboard.TargetProperty="BorderBrush">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectCheck"
                                                           Storyboard.TargetProperty="Foreground">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <PointerDownThemeAnimation TargetName="ContentPresenter" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="Selected">

                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="MultiSelectCheck"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0:0:0" />
                            <DoubleAnimation Storyboard.TargetName="BorderBackground"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0" />
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BorderBackground"
                                                           Storyboard.TargetProperty="Fill">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightListAccentLowBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                           Storyboard.TargetProperty="Foreground">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectSquare"
                                                           Storyboard.TargetProperty="BorderBrush">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectCheck"
                                                           Storyboard.TargetProperty="Foreground">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <PointerUpThemeAnimation Storyboard.TargetName="ContentPresenter" />

                            <!--  Close Button  -->
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonBorder"
                                                           Storyboard.TargetProperty="Background">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightTransparentBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonBorder"
                                                           Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="Visible" />
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="PointerOverSelected">

                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="MultiSelectCheck"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0:0:0" />
                            <DoubleAnimation Storyboard.TargetName="BorderBackground"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0" />
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BorderBackground"
                                                           Storyboard.TargetProperty="Fill">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightListAccentMediumBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                           Storyboard.TargetProperty="Foreground">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectSquare"
                                                           Storyboard.TargetProperty="BorderBrush">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectCheck"
                                                           Storyboard.TargetProperty="Foreground">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <PointerUpThemeAnimation Storyboard.TargetName="ContentPresenter" />

                            <!--  Close Button  -->
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonBorder"
                                                           Storyboard.TargetProperty="Background">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightTransparentBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="PressedSelected">

                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="MultiSelectCheck"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0:0:0" />
                            <DoubleAnimation Storyboard.TargetName="BorderBackground"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0" />
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BorderBackground"
                                                           Storyboard.TargetProperty="Fill">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightListAccentHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                           Storyboard.TargetProperty="Foreground">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectSquare"
                                                           Storyboard.TargetProperty="BorderBrush">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectCheck"
                                                           Storyboard.TargetProperty="Foreground">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="{ThemeResource SystemControlHighlightAltBaseHighBrush}" />
                            </ObjectAnimationUsingKeyFrames>
                            <PointerDownThemeAnimation TargetName="ContentPresenter" />
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>

                <VisualStateGroup x:Name="DisabledStates">
                    <VisualState x:Name="Enabled" />

                    <VisualState x:Name="Disabled">

                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="ContentBorder"
                                             Storyboard.TargetProperty="Opacity"
                                             To="{ThemeResource ListViewItemDisabledThemeOpacity}"
                                             Duration="0" />
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>

                <VisualStateGroup x:Name="MultiSelectStates">
                    <VisualState x:Name="MultiSelectDisabled">

                        <Storyboard>
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectCheckBoxTransform"
                                                           Storyboard.TargetProperty="X">
                                <EasingDoubleKeyFrame KeyTime="0:0:0"
                                                      Value="0" />
                                <SplineDoubleKeyFrame KeySpline="0.1,0.9,0.2,1"
                                                      KeyTime="0:0:0.333"
                                                      Value="-32" />
                            </DoubleAnimationUsingKeyFrames>
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectClipTransform"
                                                           Storyboard.TargetProperty="X">
                                <EasingDoubleKeyFrame KeyTime="0:0:0"
                                                      Value="0" />
                                <SplineDoubleKeyFrame KeySpline="0.1,0.9,0.2,1"
                                                      KeyTime="0:0:0.333"
                                                      Value="32" />
                            </DoubleAnimationUsingKeyFrames>
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenterTranslateTransform"
                                                           Storyboard.TargetProperty="X">
                                <EasingDoubleKeyFrame KeyTime="0:0:0"
                                                      Value="32" />
                                <SplineDoubleKeyFrame KeySpline="0.1,0.9,0.2,1"
                                                      KeyTime="0:0:0.333"
                                                      Value="0" />
                            </DoubleAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectSquare"
                                                           Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="Visible" />
                                <DiscreteObjectKeyFrame KeyTime="0:0:0.333"
                                                        Value="Collapsed" />
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="MultiSelectEnabled">

                        <Storyboard>
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectCheckBoxTransform"
                                                           Storyboard.TargetProperty="X">
                                <EasingDoubleKeyFrame KeyTime="0:0:0"
                                                      Value="-32" />
                                <SplineDoubleKeyFrame KeySpline="0.1,0.9,0.2,1"
                                                      KeyTime="0:0:0.333"
                                                      Value="0" />
                            </DoubleAnimationUsingKeyFrames>
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectClipTransform"
                                                           Storyboard.TargetProperty="X">
                                <EasingDoubleKeyFrame KeyTime="0:0:0"
                                                      Value="32" />
                                <SplineDoubleKeyFrame KeySpline="0.1,0.9,0.2,1"
                                                      KeyTime="0:0:0.333"
                                                      Value="0" />
                            </DoubleAnimationUsingKeyFrames>
                            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenterTranslateTransform"
                                                           Storyboard.TargetProperty="X">
                                <EasingDoubleKeyFrame KeyTime="0:0:0"
                                                      Value="-32" />
                                <SplineDoubleKeyFrame KeySpline="0.1,0.9,0.2,1"
                                                      KeyTime="0:0:0.333"
                                                      Value="0" />
                            </DoubleAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectSquare"
                                                           Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="Visible" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MultiSelectCheck"
                                                           Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="Visible" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenterGrid"
                                                           Storyboard.TargetProperty="Margin">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="32,0,0,0" />
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>

                <VisualStateGroup x:Name="DataVirtualizationStates">
                    <VisualState x:Name="DataAvailable" />

                    <VisualState x:Name="DataPlaceholder">

                        <Storyboard>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PlaceholderTextBlock"
                                                           Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="Visible" />
                            </ObjectAnimationUsingKeyFrames>
                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PlaceholderRect"
                                                           Storyboard.TargetProperty="Visibility">
                                <DiscreteObjectKeyFrame KeyTime="0"
                                                        Value="Visible" />
                            </ObjectAnimationUsingKeyFrames>
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>

                <VisualStateGroup x:Name="ReorderHintStates">
                    <VisualState x:Name="NoReorderHint" />

                    <VisualState x:Name="BottomReorderHint">

                        <Storyboard>
                            <DragOverThemeAnimation Direction="Bottom"
                                                    ToOffset="{ThemeResource ListViewItemReorderHintThemeOffset}"
                                                    TargetName="ContentBorder" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="TopReorderHint">

                        <Storyboard>
                            <DragOverThemeAnimation Direction="Top"
                                                    ToOffset="{ThemeResource ListViewItemReorderHintThemeOffset}"
                                                    TargetName="ContentBorder" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="RightReorderHint">

                        <Storyboard>
                            <DragOverThemeAnimation Direction="Right"
                                                    ToOffset="{ThemeResource ListViewItemReorderHintThemeOffset}"
                                                    TargetName="ContentBorder" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="LeftReorderHint">

                        <Storyboard>
                            <DragOverThemeAnimation Direction="Left"
                                                    ToOffset="{ThemeResource ListViewItemReorderHintThemeOffset}"
                                                    TargetName="ContentBorder" />
                        </Storyboard>
                    </VisualState>

                    <VisualStateGroup.Transitions>
                        <VisualTransition GeneratedDuration="0:0:0.2"
                                          To="NoReorderHint" />
                    </VisualStateGroup.Transitions>
                </VisualStateGroup>

                <VisualStateGroup x:Name="DragStates">
                    <VisualState x:Name="NotDragging" />

                    <VisualState x:Name="Dragging">

                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="ContentBorder"
                                             Storyboard.TargetProperty="Opacity"
                                             To="{ThemeResource ListViewItemDragThemeOpacity}"
                                             Duration="0" />
                            <DragItemThemeAnimation TargetName="ContentBorder" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="DraggingTarget" />

                    <VisualState x:Name="MultipleDraggingPrimary">

                        <Storyboard>
                            <!--
                                These two Opacity animations are required - the FadeInThemeAnimations
                                on the same elements animate an internal Opacity.
                            -->
                            <DoubleAnimation Storyboard.TargetName="MultiArrangeOverlayText"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0" />
                            <DoubleAnimation Storyboard.TargetName="MultiArrangeOverlayTextBorder"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0" />
                            <DoubleAnimation Storyboard.TargetName="MultiSelectSquare"
                                             Storyboard.TargetProperty="Opacity"
                                             To="0"
                                             Duration="0" />
                            <DoubleAnimation Storyboard.TargetName="MultiSelectCheck"
                                             Storyboard.TargetProperty="Opacity"
                                             To="0"
                                             Duration="0" />
                            <DoubleAnimation Storyboard.TargetName="ContentBorder"
                                             Storyboard.TargetProperty="Opacity"
                                             To="{ThemeResource ListViewItemDragThemeOpacity}"
                                             Duration="0" />
                            <FadeInThemeAnimation TargetName="MultiArrangeOverlayText" />
                            <FadeInThemeAnimation TargetName="MultiArrangeOverlayTextBorder" />
                            <DragItemThemeAnimation TargetName="ContentBorder" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="MultipleDraggingSecondary" />

                    <VisualState x:Name="DraggedPlaceholder" />

                    <VisualState x:Name="Reordering">

                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="ContentBorder"
                                             Storyboard.TargetProperty="Opacity"
                                             To="{ThemeResource ListViewItemReorderThemeOpacity}"
                                             Duration="0:0:0.240" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="ReorderingTarget">

                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="ContentBorder"
                                             Storyboard.TargetProperty="Opacity"
                                             To="{ThemeResource ListViewItemReorderTargetThemeOpacity}"
                                             Duration="0:0:0.240" />
                            <DoubleAnimation Storyboard.TargetName="ContentBorderScale"
                                             Storyboard.TargetProperty="ScaleX"
                                             To="{ThemeResource ListViewItemReorderTargetThemeScale}"
                                             Duration="0:0:0.240" />
                            <DoubleAnimation Storyboard.TargetName="ContentBorderScale"
                                             Storyboard.TargetProperty="ScaleY"
                                             To="{ThemeResource ListViewItemReorderTargetThemeScale}"
                                             Duration="0:0:0.240" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="MultipleReorderingPrimary">

                        <Storyboard>
                            <!--
                                These two Opacity animations are required - the FadeInThemeAnimations
                                on the same elements animate an internal Opacity.
                            -->
                            <DoubleAnimation Storyboard.TargetName="MultiArrangeOverlayText"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0" />
                            <DoubleAnimation Storyboard.TargetName="MultiArrangeOverlayTextBorder"
                                             Storyboard.TargetProperty="Opacity"
                                             To="1"
                                             Duration="0" />
                            <DoubleAnimation Storyboard.TargetName="MultiSelectSquare"
                                             Storyboard.TargetProperty="Opacity"
                                             To="0"
                                             Duration="0" />
                            <DoubleAnimation Storyboard.TargetName="MultiSelectCheck"
                                             Storyboard.TargetProperty="Opacity"
                                             To="0"
                                             Duration="0" />
                            <DoubleAnimation Storyboard.TargetName="ContentBorder"
                                             Storyboard.TargetProperty="Opacity"
                                             To="{ThemeResource ListViewItemDragThemeOpacity}"
                                             Duration="0:0:0.240" />
                            <FadeInThemeAnimation TargetName="MultiArrangeOverlayText" />
                            <FadeInThemeAnimation TargetName="MultiArrangeOverlayTextBorder" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="ReorderedPlaceholder">

                        <Storyboard>
                            <FadeOutThemeAnimation TargetName="ContentBorder" />
                        </Storyboard>
                    </VisualState>

                    <VisualState x:Name="DragOver">

                        <Storyboard>
                            <DropTargetItemThemeAnimation TargetName="ContentBorder" />
                        </Storyboard>
                    </VisualState>

                    <VisualStateGroup.Transitions>
                        <VisualTransition GeneratedDuration="0:0:0.2"
                                          To="NotDragging" />
                    </VisualStateGroup.Transitions>
                </VisualStateGroup>

            </VisualStateManager.VisualStateGroups>
        </Grid>
    </ControlTemplate>

    <!--  Style for Windows.UI.Xaml.Controls.ListViewItem  -->
    <Style TargetType="local:TabViewItem">
        <Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}" />
        <Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}" />
        <Setter Property="BorderBrush" Value="{ThemeResource SystemControlBackgroundBaseMediumLowBrush}" />
        <Setter Property="BorderThickness" Value="0,0,1,0" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Foreground" Value="{ThemeResource SystemControlForegroundBaseHighBrush}" />
        <Setter Property="TabNavigation" Value="Local" />
        <Setter Property="IsHoldingEnabled" Value="True" />
        <Setter Property="Padding" Value="8,0,0,0" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="MinWidth" Value="{ThemeResource ListViewItemMinWidth}" />
        <Setter Property="MinHeight" Value="{ThemeResource ListViewItemMinHeight}" />
        <Setter Property="UseSystemFocusVisuals" Value="{StaticResource UseSystemFocusVisuals}" />
        <Setter Property="FocusVisualMargin" Value="0" />
        <Setter Property="Template" Value="{StaticResource TabViewItemHeaderTemplate}" />
    </Style>

    <Style x:Key="MSEdgeCloseButtonStyle"
           TargetType="Button">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderThickness" Value="0" />

        <Setter Property="Foreground" Value="{ThemeResource SystemControlForegroundBaseMediumHighBrush}" />
        <Setter Property="Padding" Value="4" />
        <Setter Property="Margin" Value="6,0,6,0" />
        <Setter Property="HorizontalAlignment" Value="Center" />
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="FontFamily" Value="Segoe MDL2 Assets" />
        <Setter Property="FontWeight" Value="Normal" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="UseSystemFocusVisuals" Value="True" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid x:Name="RootGrid"
                          Background="{TemplateBinding Background}">
                        <ContentPresenter x:Name="ContentPresenter"
                                          Padding="{TemplateBinding Padding}"
                                          HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                          AutomationProperties.AccessibilityView="Raw"
                                          BorderBrush="{TemplateBinding BorderBrush}"
                                          BorderThickness="{TemplateBinding BorderThickness}"
                                          Content="{TemplateBinding Content}"
                                          ContentTemplate="{TemplateBinding ContentTemplate}"
                                          ContentTransitions="{TemplateBinding ContentTransitions}" />
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal">
                                    <Storyboard>
                                        <PointerUpThemeAnimation Storyboard.TargetName="RootGrid" />
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="PointerOver">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="Red" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <PointerUpThemeAnimation Storyboard.TargetName="RootGrid" />
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <!--<ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                   Storyboard.TargetProperty="Background">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlBackgroundBaseMediumLowBrush}" />
                                        </ObjectAnimationUsingKeyFrames>-->
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="BorderBrush">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource SystemControlHighlightTransparentBrush}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource SystemControlHighlightBaseHighBrush}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <PointerDownThemeAnimation Storyboard.TargetName="RootGrid" />
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                       Storyboard.TargetProperty="Background">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource SystemControlBackgroundBaseLowBrush}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="Foreground">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource SystemControlDisabledBaseMediumLowBrush}" />
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                       Storyboard.TargetProperty="BorderBrush">
                                            <DiscreteObjectKeyFrame KeyTime="0"
                                                                    Value="{ThemeResource SystemControlDisabledTransparentBrush}" />
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="TabViewScrollViewer"
           TargetType="ScrollViewer">
        <Setter Property="HorizontalScrollMode" Value="Auto" />
        <Setter Property="VerticalScrollMode" Value="Auto" />
        <Setter Property="IsHorizontalRailEnabled" Value="True" />
        <Setter Property="IsVerticalRailEnabled" Value="True" />
        <Setter Property="IsTabStop" Value="False" />
        <Setter Property="ZoomMode" Value="Disabled" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="VerticalContentAlignment" Value="Top" />
        <Setter Property="VerticalScrollBarVisibility" Value="Visible" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="BorderBrush" Value="Transparent" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="UseSystemFocusVisuals" Value="{StaticResource UseSystemFocusVisuals}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ScrollViewer">
                    <Border x:Name="Root"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid Background="{TemplateBinding Background}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <RepeatButton x:Name="ScrollBackButton"
                                          Grid.Column="0"
                                          Width="44"
                                          Height="44"
                                          Delay="50"
                                          FontFamily="Segoe MDL2 Assets"
                                          Interval="100"
                                          Visibility="{Binding ScrollableWidth, Converter={StaticResource GreaterThanZeroVisibilityConverter}, RelativeSource={RelativeSource TemplatedParent}, FallbackValue=Collapsed, TargetNullValue=Collapsed}">
                                &#xE76B;
                            </RepeatButton>

                            <ScrollContentPresenter x:Name="ScrollContentPresenter"
                                                    Grid.Column="1"
                                                    Margin="{TemplateBinding Padding}"
                                                    ContentTemplate="{TemplateBinding ContentTemplate}" />

                            <RepeatButton x:Name="ScrollForwardButton"
                                          Grid.Column="2"
                                          Width="44"
                                          Height="44"
                                          Delay="50"
                                          FontFamily="Segoe MDL2 Assets"
                                          Interval="100"
                                          Visibility="{Binding ScrollableWidth, Converter={StaticResource GreaterThanZeroVisibilityConverter}, RelativeSource={RelativeSource TemplatedParent}, FallbackValue=Collapsed, TargetNullValue=Collapsed}">
                                &#xE76C;
                            </RepeatButton>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
